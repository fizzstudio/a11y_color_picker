<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Accessible Color Picker</title>
    <style media="screen">
    .slidecontainer {
width: 100%;
}
//default slider taken from https://www.w3schools.com/howto/howto_js_rangeslider.asp
.slider {
-webkit-appearance: none;
width: 100%;
height: 25px;
background: #d3d3d3;
outline: none;
opacity: 0.7;
-webkit-transition: .2s;
transition: opacity .2s;
}

.slider:hover {
opacity: 1;
}

.slider::-webkit-slider-thumb {
-webkit-appearance: none;
appearance: none;
width: 25px;
height: 25px;
background: #4CAF50;
cursor: pointer;
}

.slider::-moz-range-thumb {
width: 25px;
height: 25px;
background: #4CAF50;
cursor: pointer;
}
      p {
        color: blue;
        font-family: Helvetica, sans-serif;
      }
      input {
        width: 100px;
      }
      div#color {
        width: 200px;
        height: 200px;
        background-color: black;
      }
    </style>
    <script>
      var color = {
        hue: 0,
        saturation: 50,
        lightness: 50,
        alpha: 100
      }
      window.onload = function() {
        init();
      }

      function init() {
        var input_els = document.querySelectorAll("input.a11y_color_picker");
        for(var i=0; i<input_els.length; i++) {
          var each_input = input_els[i];
          each_input.addEventListener("change", getValue, false);
        }
      }

      function getValue(e) {
        var input = e.target;
        var val = input.value;
        color[input.dataset.component] = val;

        var component_els = document.querySelectorAll("input[data-component=" +input.dataset.component+ "]");
        for(var i=0; i<component_els.length; i++) {
          var each_input = component_els[i];
          each_input.value = val;
          console.log(each_input);
        }

        setColor(color.hue, color.saturation, color.lightness, color.alpha);
      }

      function setColor(h, s, l, a) {
          console.log(h, s, l, a);
          var swatch = document.getElementById("color");
          // console.log(swatch);
          var hsla = `hsla(${h}, ${s}%, ${l}%, ${a}%)`;
          console.log(hsla);
          swatch.style.backgroundColor = hsla;
          // console.log(`hsl(${h}, ${s}%, ${l}%)`);
          // console.log("hsl(" + h + ", " + s + "%, " + l + "%)");
      }
     </script>
  </head>
  <body>
<h1>Accessible Color Picker</h1>
<p>This is a Color Picker usable by people with visual or motor disabilities.</p>
<ol>
  <li>hue: <input class="a11y_color_picker" data-component="hue" id="hue"  type="number" value="0" min="0" max="360">
    <input class="a11y_color_picker" data-component="hue" id="hue1"  type="range" min="0" max="360" value="180"></li>
  <li>saturation: <input class="a11y_color_picker" data-component="saturation" id="saturation"  type="number" value="50" min="0" max="100">
    <input class="a11y_color_picker" data-component="saturation" id="saturation1"  type="range" min="0" max="100" value="50"></li>
  <li>lightness: <input class="a11y_color_picker" data-component="lightness" id="lightness"  type="number" value="50" min="0" max="100">
    <input class="a11y_color_picker" data-component="lightness" id="lightness1"  type="range" min="0" max="100" value="50"></li>
  <li>alpha: <input class="a11y_color_picker" data-component="alpha" id="alpha"  type="number" value="50" min="0" max="100">
    <input class="a11y_color_picker" data-component="alpha" id="alpha1"  type="range" min="0" max="100" value="75"></li>
</ol>
<div id="color"></div>
  </body>
</html>
